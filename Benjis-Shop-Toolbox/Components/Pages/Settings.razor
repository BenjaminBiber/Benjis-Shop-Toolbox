@page "/settings"
@inject SettingsService SettingsService

<MudPaper Class="pa-4" Elevation="4">
    <MudText Typo="Typo.h5" Class="mb-4">Einstellungen</MudText>
    <MudTextField @bind-Value="Settings.IisAppName" Label="IIS App Name" Variant="Variant.Filled" Class="mb-2" />
    <MudTextField @bind-Value="Settings.LogName" Label="Log Name" Variant="Variant.Filled" Class="mb-2" />
    <MudNumericField T="int" @bind-Value="Settings.AutoRefreshSeconds" Label="Auto Refresh (Sekunden)" Class="mb-2" />
    <MudSwitch @bind-Checked="Settings.AutoRefreshEnabled" T="bool" Color="Color.Primary">Automatisches Aktualisieren</MudSwitch>
    <MudSwitch @bind-Checked="Settings.LoadOnStartup" T="bool" Color="Color.Primary">Automatisch laden</MudSwitch>
    <MudSwitch @bind-Checked="Settings.OnlySinceRestart" T="bool" Color="Color.Primary">Nur Logs seit letztem Neustart</MudSwitch>
    <MudButton OnClick="Save" Color="Color.Primary" Variant="Variant.Filled" Class="mt-4">Speichern</MudButton>
</MudPaper>

@code {
    private ToolboxSettings Settings => SettingsService.Settings;

    private void Save()
    {
        SettingsService.Save();
    }
}
